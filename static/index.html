<div class=loginbox>
    ID：<input type=text id=inp_ID><br>
    password：<input type=text id=inp_pass>
    <button id="login">login</button>
</div>

<script type=module>
    import {hash} from "https://js.sabae.cc/hash.js";
    import {fetchJSON} from "https://js.sabae.cc/fetchJSON.js";
    
    login.onclick=async()=>{
        const item = {
            ID: inp_ID.value.trim(),
            pass: hash(inp_pass.value)
        };
        console.log("item :",item);
        const res=await fetchJSON("api/login",item);
        console.log("res :",res);
        if (!res || res=="not found"){
            alert("ユーザー登録またはログインに失敗しました");
            return;
        }
        alert("ログインに成功しました。");
        console.log(res)
    }
    
    
</script>
